<mat-tab-group
  class="tabs"
  mat-align-tabs="center"
  (selectedTabChange)="tabChanged($event)"
  [(selectedIndex)]="tabIndex"
>
  <mat-tab *ngFor="let mes of meses" (click)="selectedTabChange($event, mes)">
    <ng-template mat-tab-label>
      <div (mousedown)="selectedTabChange(mes)">
        <span> {{ mes }}</span>
      </div>
    </ng-template>
    <p class="text-center">
      <small
        >SELECIONADO:
        <span style="font-weight: bold">{{ selectedMonthDesc }}</span></small
      >
    </p>
    <div class="row">
      <div class="col-md-6 ml-auto mr-auto">
        <div class="profile-tabs">
          <ul
            class="nav nav-pills nav-pills-icons justify-content-center"
            role="tablist"
          >
            <li class="nav-item">
              <a
                class="nav-link active"
                href="#studio"
                role="tab"
                data-toggle="tab"
              >
                <i class="material-icons">money</i> Ganhos
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#works" role="tab" data-toggle="tab">
                <i class="material-icons">fastfood</i> Despesas
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="tab-content tab-space">
      <div class="tab-pane active text-center gallery" id="studio">
        <div class="row">
          <div class="col-md-4 ml-auto mr-auto"></div>
        </div>
        <div class="row">
          <div class="col-md-4 ml-auto mr-auto text-center m-2">
            <mat-chip-list style="display: inline-flex">
              <mat-chip color="accent" (click)="openEarnings()"
                >Adicionar Receitas</mat-chip
              >
            </mat-chip-list>
          </div>
          <div class="col-md-4 ml-auto mr-auto text-center">
            <div fxLayout="row" fxLayoutAlign="center center" class="my-3">
              <small class="m-0 p-0">RENDA {{ selectedMonthDesc }}</small>
              <h2 class="month-earning m-0 p-0">
                {{ monthEarning | currency: "BRL" }}
              </h2>
            </div>
            <h4 class="title" style="margin: 0px">Gr√°fico 50-30-20 Ideal</h4>
            <div
              id="pie-chart-parent"
              style="display: flex; overflow: hidden"
              *ngIf="rendaTotal > 0; else empty"
            >
              <ngx-charts-pie-grid
                [scheme]="colorScheme"
                [results]="single"
                (select)="onSelect($event)"
                (onWindowResize)="onResize($event)"
                [view]="view"
                style="margin: 0 auto !important"
              >
              </ngx-charts-pie-grid>
            </div>
            <ng-template #empty>
              <mat-progress-bar mode="indeterminate"></mat-progress-bar>
              <p><small>Aguardando preenchimento dos ganhos...</small></p>
            </ng-template>
          </div>
        </div>
      </div>
      <div class="tab-pane text-center gallery" id="works">
        <div class="row">
          <div class="col-md-4 ml-auto mr-auto text-center m-2">
            <mat-chip-list style="display: inline-flex">
              <mat-chip color="accent" (click)="abrirBottomSheetDespesas()"
                >Adicionar Despesa</mat-chip
              >
            </mat-chip-list>
          </div>
        </div>
      </div>
    </div>
    <button
      mat-fab
      class="floating-button-add"
      color="primary"
      aria-label="Adicionar Despesa"
      (click)="abrirBottomSheetDespesas()"
    >
      <mat-icon>add</mat-icon>
    </button>
  </mat-tab>
</mat-tab-group>
